{"ast":null,"code":"// Copyright (c) .NET Foundation. All rights reserved.\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\n// it's a very new API right now.\n// Not exported from index.\n/** @private */\nvar AbortController = /** @class */function () {\n  function AbortController() {\n    this.isAborted = false;\n  }\n  AbortController.prototype.abort = function () {\n    if (!this.isAborted) {\n      this.isAborted = true;\n      if (this.onabort) {\n        this.onabort();\n      }\n    }\n  };\n  Object.defineProperty(AbortController.prototype, \"signal\", {\n    get: function () {\n      return this;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(AbortController.prototype, \"aborted\", {\n    get: function () {\n      return this.isAborted;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  return AbortController;\n}();\nexport { AbortController };","map":{"version":3,"names":["AbortController","isAborted","prototype","abort","onabort","Object","defineProperty","get"],"sources":["../../src/AbortController.ts"],"sourcesContent":["// Copyright (c) .NET Foundation. All rights reserved.\r\n// Licensed under the Apache License, Version 2.0. See License.txt in the project root for license information.\r\n\r\n// Rough polyfill of https://developer.mozilla.org/en-US/docs/Web/API/AbortController\r\n// We don't actually ever use the API being polyfilled, we always use the polyfill because\r\n// it's a very new API right now.\r\n\r\n// Not exported from index.\r\n/** @private */\r\nexport class AbortController implements AbortSignal {\r\n    private isAborted: boolean = false;\r\n    public onabort: () => void;\r\n\r\n    public abort() {\r\n        if (!this.isAborted) {\r\n            this.isAborted = true;\r\n            if (this.onabort) {\r\n                this.onabort();\r\n            }\r\n        }\r\n    }\r\n\r\n    get signal(): AbortSignal {\r\n        return this;\r\n    }\r\n\r\n    get aborted(): boolean {\r\n        return this.isAborted;\r\n    }\r\n}\r\n\r\n/** Represents a signal that can be monitored to determine if a request has been aborted. */\r\nexport interface AbortSignal {\r\n    /** Indicates if the request has been aborted. */\r\n    aborted: boolean;\r\n    /** Set this to a handler that will be invoked when the request is aborted. */\r\n    onabort: () => void;\r\n}\r\n"],"mappings":"AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA,IAAAA,eAAA;EAAA,SAAAA,gBAAA;IACY,KAAAC,SAAS,GAAY,KAAK;EAmBtC;EAhBWD,eAAA,CAAAE,SAAA,CAAAC,KAAK,GAAZ;IACI,IAAI,CAAC,IAAI,CAACF,SAAS,EAAE;MACjB,IAAI,CAACA,SAAS,GAAG,IAAI;MACrB,IAAI,IAAI,CAACG,OAAO,EAAE;QACd,IAAI,CAACA,OAAO,EAAE;;;EAG1B,CAAC;EAEDC,MAAA,CAAAC,cAAA,CAAIN,eAAA,CAAAE,SAAA,UAAM;SAAV,SAAAK,CAAA;MACI,OAAO,IAAI;IACf,CAAC;;;;EAEDF,MAAA,CAAAC,cAAA,CAAIN,eAAA,CAAAE,SAAA,WAAO;SAAX,SAAAK,CAAA;MACI,OAAO,IAAI,CAACN,SAAS;IACzB,CAAC;;;;EACL,OAAAD,eAAC;AAAD,CAAC,CApBD"},"metadata":{},"sourceType":"module","externalDependencies":[]}