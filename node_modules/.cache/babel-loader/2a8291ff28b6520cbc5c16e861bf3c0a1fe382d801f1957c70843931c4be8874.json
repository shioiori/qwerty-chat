{"ast":null,"code":"import ChatListContactGroupButton from './ChatListContactGroupButton.vue';\nimport ChatListContactChatItem from './ChatListContactChatItem.vue';\nimport ChatListContactSearch from './ChatListContactSearch.vue';\nimport ChatListContactUserItem from './ChatListContactUserItem.vue';\nexport default {\n  components: {\n    ChatListContactGroupButton,\n    ChatListContactChatItem,\n    ChatListContactUserItem,\n    ChatListContactSearch\n  },\n  data() {\n    return {\n      chat_connection: [],\n      user_connection: []\n    };\n  },\n  beforeMount() {\n    this.getCurrentChatConnection();\n  },\n  methods: {\n    async searchConnection(search_value) {\n      this.user_connection = await this.$store.getters.getSearchConnection(search_value);\n      this.chat_connection = [];\n    },\n    async getCurrentChatConnection() {\n      this.chat_connection = await this.$store.getters.getCurrentConnection;\n    },\n    async getCurrentChatById(chat_id) {\n      var chat = await this.$store.getters.getCurrentChat(chat_id);\n      this.emitter.emit(\"getCurrentChat\", {\n        chat_id: chat.id,\n        on_chatted: true,\n        chat_name: this.getChatName(chat),\n        member_ids: chat.memberIds\n      });\n    },\n    async getCurrentChatByUser(user_id, is_limited) {\n      var chat = await this.$store.getters.checkUserInChat([this.$store.getters.getUserId, user_id], is_limited);\n      console.log(chat);\n      if (chat == null) {\n        chat = await this.$store.getters.createCurrentChat([this.$store.getters.getUserId, user_id], null, is_limited);\n      }\n      this.emitter.emit(\"getCurrentChat\", {\n        chat_id: chat.id,\n        on_chatted: true,\n        chat_name: this.getChatName(chat),\n        member_ids: chat.memberIds\n      });\n    },\n    getChatName(chat) {\n      let id = this.$store.getters.getUserId;\n      console.log(chat.members[0].id, id, chat.members[1].name);\n      let username = chat.name ? chat.name : chat.members[0].id == id ? chat.members[1].name : chat.members[0].name;\n      return username;\n    }\n  }\n};","map":{"version":3,"names":["ChatListContactGroupButton","ChatListContactChatItem","ChatListContactSearch","ChatListContactUserItem","components","data","chat_connection","user_connection","beforeMount","getCurrentChatConnection","methods","searchConnection","search_value","$store","getters","getSearchConnection","getCurrentConnection","getCurrentChatById","chat_id","chat","getCurrentChat","emitter","emit","id","on_chatted","chat_name","getChatName","member_ids","memberIds","getCurrentChatByUser","user_id","is_limited","checkUserInChat","getUserId","console","log","createCurrentChat","members","name","username"],"sources":["F:\\Personal Project\\qwerty-chat\\src\\components\\ChatListContact.vue"],"sourcesContent":["<template>\r\n    <div id=\"list-contact\" class=\"col-span-3 border-2 border-gray-100\">\r\n        <div class=\"user-contact-info border-b-2 border-gray-100 flex items-center p-4\">\r\n            <p class=\"text-xl flex-auto font-bold\">Chat</p>\r\n            <ChatListContactGroupButton/>\r\n        </div>\r\n        <div class=\"lst-contact my-4 px-4\">\r\n            <ChatListContactSearch\r\n                @search-connection=\"searchConnection\"/>\r\n            <ChatListContactChatItem \r\n                v-for=\"(item, index) in chat_connection\"\r\n                v-bind:chat=\"item\"\r\n                v-bind:key=\"index\"\r\n                @click=\"getCurrentChatById(item.id)\" \r\n            />\r\n            <ChatListContactUserItem \r\n                v-for=\"(item, index) in user_connection\"\r\n                v-bind:user=\"item\"\r\n                v-bind:key=\"index\"\r\n                @click=\"getCurrentChatByUser(item.id, true)\" \r\n            />\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport ChatListContactGroupButton from './ChatListContactGroupButton.vue';\r\nimport ChatListContactChatItem from './ChatListContactChatItem.vue';\r\nimport ChatListContactSearch from './ChatListContactSearch.vue';\r\nimport ChatListContactUserItem from './ChatListContactUserItem.vue';\r\n\r\nexport default {\r\n    components: {\r\n        ChatListContactGroupButton,\r\n        ChatListContactChatItem,\r\n        ChatListContactUserItem,\r\n        ChatListContactSearch,\r\n    },\r\n    data(){\r\n        return {\r\n            chat_connection: [],\r\n            user_connection: [],\r\n        }\r\n    },\r\n    beforeMount(){\r\n        this.getCurrentChatConnection();\r\n    },\r\n    methods: {\r\n        async searchConnection(search_value){\r\n            this.user_connection = await this.$store.getters.getSearchConnection(search_value)\r\n            this.chat_connection = [];\r\n        },\r\n        async getCurrentChatConnection(){\r\n            this.chat_connection = await this.$store.getters.getCurrentConnection;\r\n        },\r\n        async getCurrentChatById(chat_id){\r\n            var chat = await this.$store.getters.getCurrentChat(chat_id);\r\n            this.emitter.emit(\"getCurrentChat\", {\r\n                chat_id: chat.id,\r\n                on_chatted: true,\r\n                chat_name: this.getChatName(chat),\r\n                member_ids: chat.memberIds\r\n            });\r\n        },\r\n        async getCurrentChatByUser(user_id, is_limited){\r\n            var chat = await this.$store.getters.checkUserInChat([this.$store.getters.getUserId, user_id], is_limited);\r\n            console.log(chat);\r\n            if (chat == null){\r\n                chat = await this.$store.getters.createCurrentChat([this.$store.getters.getUserId, user_id], null, is_limited)\r\n            }\r\n            this.emitter.emit(\"getCurrentChat\", {\r\n                chat_id: chat.id,\r\n                on_chatted: true,\r\n                chat_name: this.getChatName(chat),\r\n                member_ids: chat.memberIds\r\n            });\r\n        },\r\n        getChatName(chat){\r\n            let id = this.$store.getters.getUserId;\r\n            console.log(chat.members[0].id, id,chat.members[1].name);\r\n            let username = chat.name ? chat.name : (chat.members[0].id == id ? chat.members[1].name : chat.members[0].name);\r\n            return username;\r\n        }\r\n    }\r\n}\r\n</script>\r\n\r\n<style>\r\n\r\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}