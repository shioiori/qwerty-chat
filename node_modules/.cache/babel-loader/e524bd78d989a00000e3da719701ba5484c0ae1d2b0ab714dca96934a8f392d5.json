{"ast":null,"code":"import { HubConnectionBuilder, LogLevel } from '@aspnet/signalr';\nimport constants from '@/constants';\nconst connection = new HubConnectionBuilder().withUrl(constants.BASE_URL + '/chat-hub').configureLogging(LogLevel.Information).build();\nasync function ReceiveMessage() {\n  var mess;\n  await connection.on(\"ReceiveMessage\", obj => {\n    console.log(obj);\n    mess = JSON.parse(obj);\n  });\n  console.log(mess);\n  return mess;\n}\nasync function onConnectionAsync() {\n  try {\n    await connection.start();\n    console.log(\"SignalR Connected.\");\n  } catch (err) {\n    console.log(err);\n  }\n}\nfunction onDisconnectionAsync() {}\nfunction onConnectedNetwork(user_id) {\n  connection.invoke(\"OnConnectedNetwork\", user_id).catch(function (err) {\n    return console.error(err.toString());\n  });\n  return connection.on(\"OnConnected\", connection_id => {\n    return connection_id;\n  });\n}\nasync function SendMessage(message) {\n  console.log(message);\n  connection.invoke(\"SendGroup\", message).catch(function (err) {\n    return console.error(err.toString());\n  });\n}\nexport default {\n  onConnectionAsync,\n  onDisconnectionAsync,\n  onConnectedNetwork,\n  SendMessage,\n  ReceiveMessage\n};","map":{"version":3,"names":["HubConnectionBuilder","LogLevel","constants","connection","withUrl","BASE_URL","configureLogging","Information","build","ReceiveMessage","mess","on","obj","console","log","JSON","parse","onConnectionAsync","start","err","onDisconnectionAsync","onConnectedNetwork","user_id","invoke","catch","error","toString","connection_id","SendMessage","message"],"sources":["F:/Personal Project/qwerty-chat/src/hubs/chathub.js"],"sourcesContent":["import { HubConnectionBuilder, LogLevel } from '@aspnet/signalr'\r\nimport constants from '@/constants';\r\n\r\nconst connection = new HubConnectionBuilder()\r\n                        .withUrl(constants.BASE_URL + '/chat-hub')\r\n                        .configureLogging(LogLevel.Information)\r\n                        .build();\r\n\r\nasync function ReceiveMessage(){\r\n    var mess;\r\n    await connection.on(\"ReceiveMessage\", (obj) => {\r\n        console.log(obj);\r\n        mess = JSON.parse(obj);\r\n    });\r\n    console.log(mess);\r\n    return mess;\r\n} \r\n\r\nasync function onConnectionAsync() {\r\n    try {\r\n        await connection.start();\r\n        console.log(\"SignalR Connected.\");\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction onDisconnectionAsync(){\r\n\r\n}\r\n\r\nfunction onConnectedNetwork(user_id){\r\n    connection.invoke(\"OnConnectedNetwork\", user_id).catch(function (err) {\r\n        return console.error(err.toString());\r\n    });\r\n    return connection.on(\"OnConnected\", (connection_id) => {\r\n        return connection_id;\r\n    });\r\n}\r\n\r\nasync function SendMessage(message){\r\n    console.log(message);\r\n    connection.invoke(\"SendGroup\", message).catch(function (err) {\r\n        return console.error(err.toString());\r\n    });\r\n}\r\n\r\nexport default {\r\n    onConnectionAsync,\r\n    onDisconnectionAsync,\r\n    onConnectedNetwork,\r\n    SendMessage,\r\n    ReceiveMessage\r\n}"],"mappings":"AAAA,SAASA,oBAAoB,EAAEC,QAAQ,QAAQ,iBAAiB;AAChE,OAAOC,SAAS,MAAM,aAAa;AAEnC,MAAMC,UAAU,GAAG,IAAIH,oBAAoB,CAAC,CAAC,CACpBI,OAAO,CAACF,SAAS,CAACG,QAAQ,GAAG,WAAW,CAAC,CACzCC,gBAAgB,CAACL,QAAQ,CAACM,WAAW,CAAC,CACtCC,KAAK,CAAC,CAAC;AAEhC,eAAeC,cAAcA,CAAA,EAAE;EAC3B,IAAIC,IAAI;EACR,MAAMP,UAAU,CAACQ,EAAE,CAAC,gBAAgB,EAAGC,GAAG,IAAK;IAC3CC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC;IAChBF,IAAI,GAAGK,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC;EAC1B,CAAC,CAAC;EACFC,OAAO,CAACC,GAAG,CAACJ,IAAI,CAAC;EACjB,OAAOA,IAAI;AACf;AAEA,eAAeO,iBAAiBA,CAAA,EAAG;EAC/B,IAAI;IACA,MAAMd,UAAU,CAACe,KAAK,CAAC,CAAC;IACxBL,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;EACrC,CAAC,CAAC,OAAOK,GAAG,EAAE;IACVN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;EACpB;AACJ;AAEA,SAASC,oBAAoBA,CAAA,EAAE,CAE/B;AAEA,SAASC,kBAAkBA,CAACC,OAAO,EAAC;EAChCnB,UAAU,CAACoB,MAAM,CAAC,oBAAoB,EAAED,OAAO,CAAC,CAACE,KAAK,CAAC,UAAUL,GAAG,EAAE;IAClE,OAAON,OAAO,CAACY,KAAK,CAACN,GAAG,CAACO,QAAQ,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC;EACF,OAAOvB,UAAU,CAACQ,EAAE,CAAC,aAAa,EAAGgB,aAAa,IAAK;IACnD,OAAOA,aAAa;EACxB,CAAC,CAAC;AACN;AAEA,eAAeC,WAAWA,CAACC,OAAO,EAAC;EAC/BhB,OAAO,CAACC,GAAG,CAACe,OAAO,CAAC;EACpB1B,UAAU,CAACoB,MAAM,CAAC,WAAW,EAAEM,OAAO,CAAC,CAACL,KAAK,CAAC,UAAUL,GAAG,EAAE;IACzD,OAAON,OAAO,CAACY,KAAK,CAACN,GAAG,CAACO,QAAQ,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC;AACN;AAEA,eAAe;EACXT,iBAAiB;EACjBG,oBAAoB;EACpBC,kBAAkB;EAClBO,WAAW;EACXnB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}