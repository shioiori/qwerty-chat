{"ast":null,"code":"import { HubConnectionBuilder, LogLevel } from '@aspnet/signalr';\nimport constants from '@/constants';\nimport mitt from 'mitt';\nconst emitter = mitt();\nconst connection = new HubConnectionBuilder().withUrl(constants.BASE_URL + '/chat-hub').configureLogging(LogLevel.Information).build();\nconst message = connection.on(\"ReceiveMessage\", obj => {\n  var x = JSON.parse(obj);\n  this.emitter.emit(\"sendMessage\", this.message);\n  console.log(x);\n  return x;\n});\nasync function onConnectionAsync() {\n  try {\n    await connection.start();\n    console.log(\"SignalR Connected.\");\n  } catch (err) {\n    console.log(err);\n  }\n}\nfunction onDisconnectionAsync() {}\nfunction onConnectedNetwork(user_id) {\n  connection.invoke(\"OnConnectedNetwork\", user_id).catch(function (err) {\n    return console.error(err.toString());\n  });\n  return connection.on(\"OnConnected\", connection_id => {\n    return connection_id;\n  });\n}\nasync function SendMessage(message) {\n  connection.invoke(\"SendGroup\", message).catch(function (err) {\n    return console.error(err.toString());\n  });\n}\nexport default {\n  onConnectionAsync,\n  onDisconnectionAsync,\n  onConnectedNetwork,\n  SendMessage,\n  message\n};","map":{"version":3,"names":["HubConnectionBuilder","LogLevel","constants","mitt","emitter","connection","withUrl","BASE_URL","configureLogging","Information","build","message","on","obj","x","JSON","parse","emit","console","log","onConnectionAsync","start","err","onDisconnectionAsync","onConnectedNetwork","user_id","invoke","catch","error","toString","connection_id","SendMessage"],"sources":["F:/Personal Project/qwerty-chat/src/hubs/chathub.js"],"sourcesContent":["import { HubConnectionBuilder, LogLevel } from '@aspnet/signalr'\r\nimport constants from '@/constants';\r\nimport mitt from 'mitt';\r\n\r\nconst emitter = mitt();\r\nconst connection = new HubConnectionBuilder()\r\n                        .withUrl(constants.BASE_URL + '/chat-hub')\r\n                        .configureLogging(LogLevel.Information)\r\n                        .build();\r\n\r\nconst message = connection.on(\"ReceiveMessage\", (obj) => {\r\n    var x = JSON.parse(obj);\r\n    this.emitter.emit(\"sendMessage\", this.message);\r\n    console.log(x);\r\n    return x;\r\n});\r\n\r\nasync function onConnectionAsync() {\r\n    try {\r\n        await connection.start();\r\n        console.log(\"SignalR Connected.\");\r\n    } catch (err) {\r\n        console.log(err);\r\n    }\r\n}\r\n\r\nfunction onDisconnectionAsync(){\r\n\r\n}\r\n\r\nfunction onConnectedNetwork(user_id){\r\n    connection.invoke(\"OnConnectedNetwork\", user_id).catch(function (err) {\r\n        return console.error(err.toString());\r\n    });\r\n    return connection.on(\"OnConnected\", (connection_id) => {\r\n        return connection_id;\r\n    });\r\n}\r\n\r\nasync function SendMessage(message){\r\n    connection.invoke(\"SendGroup\", message).catch(function (err) {\r\n        return console.error(err.toString());\r\n    });\r\n}\r\n\r\nexport default {\r\n    onConnectionAsync,\r\n    onDisconnectionAsync,\r\n    onConnectedNetwork,\r\n    SendMessage,\r\n    message\r\n}"],"mappings":"AAAA,SAASA,oBAAoB,EAAEC,QAAQ,QAAQ,iBAAiB;AAChE,OAAOC,SAAS,MAAM,aAAa;AACnC,OAAOC,IAAI,MAAM,MAAM;AAEvB,MAAMC,OAAO,GAAGD,IAAI,CAAC,CAAC;AACtB,MAAME,UAAU,GAAG,IAAIL,oBAAoB,CAAC,CAAC,CACpBM,OAAO,CAACJ,SAAS,CAACK,QAAQ,GAAG,WAAW,CAAC,CACzCC,gBAAgB,CAACP,QAAQ,CAACQ,WAAW,CAAC,CACtCC,KAAK,CAAC,CAAC;AAEhC,MAAMC,OAAO,GAAGN,UAAU,CAACO,EAAE,CAAC,gBAAgB,EAAGC,GAAG,IAAK;EACrD,IAAIC,CAAC,GAAGC,IAAI,CAACC,KAAK,CAACH,GAAG,CAAC;EACvB,IAAI,CAACT,OAAO,CAACa,IAAI,CAAC,aAAa,EAAE,IAAI,CAACN,OAAO,CAAC;EAC9CO,OAAO,CAACC,GAAG,CAACL,CAAC,CAAC;EACd,OAAOA,CAAC;AACZ,CAAC,CAAC;AAEF,eAAeM,iBAAiBA,CAAA,EAAG;EAC/B,IAAI;IACA,MAAMf,UAAU,CAACgB,KAAK,CAAC,CAAC;IACxBH,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAC;EACrC,CAAC,CAAC,OAAOG,GAAG,EAAE;IACVJ,OAAO,CAACC,GAAG,CAACG,GAAG,CAAC;EACpB;AACJ;AAEA,SAASC,oBAAoBA,CAAA,EAAE,CAE/B;AAEA,SAASC,kBAAkBA,CAACC,OAAO,EAAC;EAChCpB,UAAU,CAACqB,MAAM,CAAC,oBAAoB,EAAED,OAAO,CAAC,CAACE,KAAK,CAAC,UAAUL,GAAG,EAAE;IAClE,OAAOJ,OAAO,CAACU,KAAK,CAACN,GAAG,CAACO,QAAQ,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC;EACF,OAAOxB,UAAU,CAACO,EAAE,CAAC,aAAa,EAAGkB,aAAa,IAAK;IACnD,OAAOA,aAAa;EACxB,CAAC,CAAC;AACN;AAEA,eAAeC,WAAWA,CAACpB,OAAO,EAAC;EAC/BN,UAAU,CAACqB,MAAM,CAAC,WAAW,EAAEf,OAAO,CAAC,CAACgB,KAAK,CAAC,UAAUL,GAAG,EAAE;IACzD,OAAOJ,OAAO,CAACU,KAAK,CAACN,GAAG,CAACO,QAAQ,CAAC,CAAC,CAAC;EACxC,CAAC,CAAC;AACN;AAEA,eAAe;EACXT,iBAAiB;EACjBG,oBAAoB;EACpBC,kBAAkB;EAClBO,WAAW;EACXpB;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}